function initResize(){$(window).resize(function(){setTimeout(function(){$(".header_container").css({height:$(".header").outerHeight()})},30),$(".video iframe").css({maxHeight:$(window).outerHeight()-$("header").outerHeight()}),$("body").css({paddingBottom:$("footer").outerHeight()})}).trigger("resize")}function initEventsOnClick(){$('[data-control="select"] ._value').text($(this).siblings("select").val()),$('[data-control="select"] select').on("change",function(){$(this).siblings(".select__value").find("._value").text(this.value)}),$(".action_follow").on("click",function(){$(this).toggleClass("active")}),isMobile||$("body").on("click",'a[href^="tel:"]',function(){$(this).attr("href",$(this).attr("href").replace(/^tel:/,"callto:"))})}function initEventsOnScroll(){$(window).scroll(function(){var e=$(window).height()+$(window).scrollTop(),t=$(document).height()-$(".footer").outerHeight(),i=20;e>t+i?$("body").addClass("footer_in_view").find("#launcher, .btn_feedback").css({bottom:$(".footer").outerHeight()}):$("body").removeClass("footer_in_view").find("#launcher, .btn_feedback").css({bottom:0})}).trigger("scroll")}function initMessages(){var e=$("#msg");$(".form--message").on("click",function(e){e.stopPropagation()}),e.bind("focus",function(){$(this).parents(".form--message").addClass("focused")}).keyup(function(){$(this).val()?$(this).parents(".form--message").addClass("with_value"):$(this).parents(".form--message").removeClass("with_value")}),e.each(function(){autosize(this)}).on("autosize:resized",function(){$(".message_card__inner").css({height:"auto"})}),$("body").on("click",function(){e.val()||($(".form--message").removeClass("focused"),$(".message_card__inner").removeAttr("style"))})}function initHeader(){isMobile||768>=wW?$(".header_nav .nav_list__item > a").on("click",function(e){e.stopPropagation();$(this).attr("href");return $(this).parent(".nav_list__item").hasClass("nav_list__item--selected")?!0:($(".header_nav").addClass("header_nav--selected"),$(".header_nav .nav_list__item").removeClass("nav_list__item--selected"),$(this).parent(".nav_list__item").addClass("nav_list__item--selected"),e.preventDefault(),void 0)}):hideSubMenu(),$(".btn_menu").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").addClass("body--menu_opened"),$(".sidebar_menu").addClass("sidebar_menu--open")}),$(".sidebar_menu, .header_search").on("click",function(e){e.stopPropagation()}),$("body, .btn_close_menu, .menu_overlay, .btn_close_header").on("click",function(){$("body").removeClass("body--menu_opened body--search_showed"),$(".sidebar_menu").removeClass("sidebar_menu--open"),$(".header_search").removeClass("header_search--show"),hideSubMenu()}),$(".btn_open_search").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").addClass("body--search_showed"),$(".header_search").addClass("header_search--show")})}function hideSubMenu(){$(".header_nav").removeClass("header_nav--selected"),$(".nav_list__item").removeClass("nav_list__item--selected")}function initCollapse(){$(".panel_collapse").on("show.bs.collapse",function(){$(this).siblings(".panel_heading").addClass("panel_heading--active")}),$(".panel_collapse").on("hide.bs.collapse",function(){$(this).siblings(".panel_heading").removeClass("panel_heading--active")})}function initForms(){var e,t=window.location.hash;window.location.hash&&($("html, body").animate({scrollTop:$(t).offset().top},0),e=t,$(t).removeClass("hide"),$(".btn_show_form").hide()),$(".btn_show_form").on("click",function(){e=$(this).data("target"),$(this).hide(),$(e).removeClass("hide")}),$(".btn_close_form").on("click",function(){$(".btn_show_form").show(),$(e).addClass("hide")})}function initSmoothScroll(){$(".smooth_scroll").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash),t=$(this).data("scroll-offset")?$(this).data("scroll-offset"):0;if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top-t},1e3),!1}})}function initAffix(){$(".btn_affix").affix({offset:{top:function(){return this.top=$(".site_nav").offset().top-$(".header_container").outerHeight()}}}),$(window).resize(function(){$(".btn_affix").css({right:$(".header .container").offset().left+15})}).trigger("resize")}function initStickyNav(){function e(){var e=$(this).scrollTop();Math.abs(i-e)<=n||(e>i&&e>a?(hideSubMenu(),$(".header_nav, .header, .btn_affix").removeClass("nav_down").addClass("nav_up")):(hideSubMenu(),e+$(window).height()<$(document).height()&&$(".header_nav, .header, .btn_affix").removeClass("nav_up").addClass("nav_down")),i=e)}var t,i=0,n=5,a=$(".header_nav").outerHeight()+$(".header").offset().top;$(window).scroll(function(e){t=!0}),setInterval(function(){t&&(e(),t=!1)},250),$(window).resize(function(){setTimeout(function(){$(".header_nav").css({paddingTop:$(".header").outerHeight()})},30)}).trigger("resize")}function initParallaxScroll(){function e(e){$(e).each(function(){var e=parseInt($(window).scrollTop()-$(this).offset().top),t=$(this).attr("data-depth")?$(this).attr("data-depth"):.1;!isMobile&&wW>=992?$(this).css({"-webkit-transform":"translate3d(0,"+-(e*t)+"px, 0)","-moz-transform":"translate3d(0,"+-(e*t)+"px, 0)","-ms-transform":"translate3d(0,"+-(e*t)+"px, 0)","-o-transform":"translate3d(0,"+-(e*t)+"px, 0)",transform:"translate3d(0,"+-(e*t)+"px, 0)"}):$(this).removeAttr("css")})}$(window).bind("scroll",function(){e(".parallax_element")}).trigger("scroll")}function initFileUpload(){$("._upload_file").on(touchendOrClick,function(e){function t(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$(i).parents(".fileupload").removeClass("fileupload--fail").addClass("fileupload--uploaded").attr("style","background-image: url("+e.target.result+")")},t.readAsDataURL(e.files[0])}}e.preventDefault();var i=$(this).data("file-id");$(i).click().on("change",function(){t(this)})})}var wH=$(window).height(),wW=$(window).width(),ua=navigator.userAgent,touchendOrClick=ua.match(/iPad|iPhone|iPad/i)?"touchend":"click",deviceAgent=navigator.userAgent.toLowerCase(),isMobile=deviceAgent.match(/(iphone|ipod|ipad)/);FastClick.attach(document.body),isMobile||767>=wW?$("body").addClass("is_mobile"):$("body").removeClass("is_mobile"),$(document).ready(function(){initResize(),initEventsOnClick(),initEventsOnScroll(),initMessages(),initHeader(),initStickyNav(),initCollapse(),initForms(),initSmoothScroll(),initAffix(),initParallaxScroll(),initFileUpload()});